openapi: 3.0.2
info:
  title: 'Instemmingservice (IS)'
  version: 0.0.1
  description: |
    API Details
    - Component: Proto Component
    - Reference: pc
    - Enviroment: dev
    - Version: V.0.1
    - Repository: []() / [zip](/archive/master.zip)
    - Datamodel: [postman](/schema/openapi.postman_collection) / [oas](/schema/openapi.yaml) / [pdf](/schema/datamodel.pdf) / [mwb](/schema/datamodel.mwb) 
    
    Naast deze JSON rest API is er ook een [graphql](/graphql) interface beschikbaar. 
                             
    Voor het gebruik van deze applicatie is een JWT Token nodig, deze hangt altijd vast aan een applicatie, ofwel user. Geldige JWT Tokens worden aangemaakt bij het registreren van een applicatie en kennen een beperkte houdbaarheid. 
    JWT Tokens kunnen zowel worden verlengd, als opnieuw worden aangevraagd, dit aan de hand van de applicatie id en sleutel.
    Let er bij het meegeven van JWT tokens op dat deze moet worden voorafgegaan door een Bearer en een spatie, onder de header Authorization. De volledig naam wordt daarmee: 'Authorization: Bearer [TOKEN]'.
    
paths:
  /assents:
    get:
      tags:
        - Assent
      operationId: getAssentCollection
      summary: 'Retrieves the collection of Assent resources.'
      responses:
        200:
          description: 'Assent collection response'
          content:
            application/hal+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
            application/ld+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
            application/vnd.api+json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
            application/xml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
            application/x-yaml:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
            text/csv:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
            text/html:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Assent-read'
      parameters:
        -
          name: request
          in: query
          required: false
          schema:
            type: string
        -
          name: 'request[]'
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        -
          name: property
          in: query
          required: false
          schema:
            type: string
        -
          name: 'property[]'
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        -
          name: process
          in: query
          required: false
          schema:
            type: string
        -
          name: 'process[]'
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        -
          name: contact
          in: query
          required: false
          schema:
            type: string
        -
          name: 'contact[]'
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        -
          name: person
          in: query
          required: false
          schema:
            type: string
        -
          name: 'person[]'
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        -
          name: requester
          in: query
          required: false
          schema:
            type: string
        -
          name: 'requester[]'
          in: query
          required: false
          schema:
            type: array
            items:
              type: string
          style: form
          explode: true
        -
          name: page
          in: query
          required: false
          description: 'The collection page number'
          schema:
            type: integer
        -
          name: API-Version
          description: 'The version of the API conform [Landelijke API-strategie.](https://geonovum.github.io/KP-APIs/#versioning)'
          example: 1.0.1
          in: header
        -
          name: X-NLX-Request-User-Id
          description: 'The id of the user performing the request'
          in: header
        -
          name: X-NLX-Request-Application-Id
          description: 'The id of the application performing the request'
          in: header
        -
          name: X-NLX-Request-Subject-Identifier
          description: 'An subject identifier for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Process-Id
          description: 'A process id for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Data-Elements
          description: 'A list of requested data elements'
          in: header
        -
          name: X-NLX-Request-Data-Subject
          description: 'A key-value list of data subjects related to this request. e.g. `bsn=12345678,kenteken=ab-12-fg`'
          in: header
        -
          name: X-Audit-Clarification
          description: 'A clarification as to why a request has been made  (doelbinding)'
          in: header
    post:
      tags:
        - Assent
      operationId: postAssentCollection
      summary: 'Creates a Assent resource.'
      responses:
        201:
          description: 'Assent resource created'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Assent-read'
          links:
            GetAssentItem:
              parameters:
                id: '$response.body#/id'
              operationId: getAssentItem
              description: 'The `id` value returned in the response can be used as the `id` parameter in `GET /assents/{id}`.'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Assent-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Assent-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Assent-write'
        description: 'The new Assent resource'
  '/assents/{id}':
    get:
      tags:
        - Assent
      operationId: getAssentItem
      summary: 'Retrieves a Assent resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
        -
          name: API-Version
          description: 'The version of the API conform [Landelijke API-strategie.](https://geonovum.github.io/KP-APIs/#versioning)'
          example: 1.0.1
          in: header
        -
          name: X-NLX-Request-User-Id
          description: 'The id of the user performing the request'
          in: header
        -
          name: X-NLX-Request-Application-Id
          description: 'The id of the application performing the request'
          in: header
        -
          name: X-NLX-Request-Subject-Identifier
          description: 'An subject identifier for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Process-Id
          description: 'A process id for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Data-Elements
          description: 'A list of requested data elements'
          in: header
        -
          name: X-NLX-Request-Data-Subject
          description: 'A key-value list of data subjects related to this request. e.g. `bsn=12345678,kenteken=ab-12-fg`'
          in: header
        -
          name: X-Audit-Clarification
          description: 'A clarification as to why a request has been made  (doelbinding)'
          in: header
      responses:
        200:
          description: 'Assent resource response'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Assent-read'
        404:
          description: 'Resource not found'
    delete:
      tags:
        - Assent
      operationId: deleteAssentItem
      summary: 'Removes the Assent resource.'
      responses:
        204:
          description: 'Assent resource deleted'
        404:
          description: 'Resource not found'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
        -
          name: API-Version
          description: 'The version of the API conform [Landelijke API-strategie.](https://geonovum.github.io/KP-APIs/#versioning)'
          example: 1.0.1
          in: header
        -
          name: X-NLX-Request-User-Id
          description: 'The id of the user performing the request'
          in: header
        -
          name: X-NLX-Request-Application-Id
          description: 'The id of the application performing the request'
          in: header
        -
          name: X-NLX-Request-Subject-Identifier
          description: 'An subject identifier for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Process-Id
          description: 'A process id for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Data-Elements
          description: 'A list of requested data elements'
          in: header
        -
          name: X-NLX-Request-Data-Subject
          description: 'A key-value list of data subjects related to this request. e.g. `bsn=12345678,kenteken=ab-12-fg`'
          in: header
        -
          name: X-Audit-Clarification
          description: 'A clarification as to why a request has been made  (doelbinding)'
          in: header
    put:
      tags:
        - Assent
      operationId: putAssentItem
      summary: 'Replaces the Assent resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
        -
          name: API-Version
          description: 'The version of the API conform [Landelijke API-strategie.](https://geonovum.github.io/KP-APIs/#versioning)'
          example: 1.0.1
          in: header
        -
          name: X-NLX-Request-User-Id
          description: 'The id of the user performing the request'
          in: header
        -
          name: X-NLX-Request-Application-Id
          description: 'The id of the application performing the request'
          in: header
        -
          name: X-NLX-Request-Subject-Identifier
          description: 'An subject identifier for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Process-Id
          description: 'A process id for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Data-Elements
          description: 'A list of requested data elements'
          in: header
        -
          name: X-NLX-Request-Data-Subject
          description: 'A key-value list of data subjects related to this request. e.g. `bsn=12345678,kenteken=ab-12-fg`'
          in: header
        -
          name: X-Audit-Clarification
          description: 'A clarification as to why a request has been made  (doelbinding)'
          in: header
      responses:
        200:
          description: 'Assent resource updated'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Assent-read'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Assent-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Assent-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Assent-write'
        description: 'The updated Assent resource'
    patch:
      tags:
        - Assent
      operationId: patchAssentItem
      summary: 'Updates the Assent resource.'
      parameters:
        -
          name: id
          in: path
          required: true
          schema:
            type: string
        -
          name: API-Version
          description: 'The version of the API conform [Landelijke API-strategie.](https://geonovum.github.io/KP-APIs/#versioning)'
          example: 1.0.1
          in: header
        -
          name: X-NLX-Request-User-Id
          description: 'The id of the user performing the request'
          in: header
        -
          name: X-NLX-Request-Application-Id
          description: 'The id of the application performing the request'
          in: header
        -
          name: X-NLX-Request-Subject-Identifier
          description: 'An subject identifier for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Process-Id
          description: 'A process id for purpose registration (doelbinding)'
          in: header
        -
          name: X-NLX-Request-Data-Elements
          description: 'A list of requested data elements'
          in: header
        -
          name: X-NLX-Request-Data-Subject
          description: 'A key-value list of data subjects related to this request. e.g. `bsn=12345678,kenteken=ab-12-fg`'
          in: header
        -
          name: X-Audit-Clarification
          description: 'A clarification as to why a request has been made  (doelbinding)'
          in: header
      responses:
        200:
          description: 'Assent resource updated'
          content:
            application/hal+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/ld+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/vnd.api+json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/json:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/xml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            application/x-yaml:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/csv:
              schema:
                $ref: '#/components/schemas/Assent-read'
            text/html:
              schema:
                $ref: '#/components/schemas/Assent-read'
        400:
          description: 'Invalid input'
        404:
          description: 'Resource not found'
      requestBody:
        content:
          application/hal+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/ld+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/vnd.api+json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/json:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/xml:
            schema:
              $ref: '#/components/schemas/Assent-write'
          application/x-yaml:
            schema:
              $ref: '#/components/schemas/Assent-write'
          text/csv:
            schema:
              $ref: '#/components/schemas/Assent-write'
          text/html:
            schema:
              $ref: '#/components/schemas/Assent-write'
        description: 'The updated Assent resource'
components:
  schemas:
    Assent-read:
      type: object
      description: ''
      properties:
        id:
          readOnly: true
          type: string
        token:
          readOnly: true
          description: 'a secret token used to validate the assent'
          type: string
        name:
          description: 'The name of this assend is displayed as a title to end users and should make clear what they arre assending to'
          type: string
        description:
          description: 'The description of this assend is displayed to end users as aditional information and should make clear what they arre assending to'
          type: string
        request:
          description: 'The request that this assent applies to'
          type: string
        property:
          description: 'The property of a request that this assent applies to e.g. parner in meldingvoorgenomenhuwelijk'
          type: string
        process:
          description: 'The procces that this assent originated from'
          type: string
        contact:
          description: 'The contact that this assent applies to'
          type: string
        person:
          description: 'The person that this assent applies to'
          type: string
        status:
          description: 'The status of this assent e.g. requested, accepted, denied'
          type: string
        requester:
          description: 'requester The organisation (RSIN) or person (BSN) that is responsible for making this assent'
          type: string
    Assent-write:
      type: object
      description: ''
      properties:
        name:
          description: 'The name of this assend is displayed as a title to end users and should make clear what they arre assending to'
          type: string
        description:
          description: 'The description of this assend is displayed to end users as aditional information and should make clear what they arre assending to'
          type: string
        request:
          description: 'The request that this assent applies to'
          type: string
        property:
          description: 'The property of a request that this assent applies to e.g. parner in meldingvoorgenomenhuwelijk'
          type: string
        process:
          description: 'The procces that this assent originated from'
          type: string
        contact:
          description: 'The contact that this assent applies to'
          type: string
        person:
          description: 'The person that this assent applies to'
          type: string
        status:
          description: 'The status of this assent e.g. requested, accepted, denied'
          type: string
        requester:
          description: 'requester The organisation (RSIN) or person (BSN) that is responsible for making this assent'
          type: string
servers:
  -
    description: 'Demo Omgeving'
    url: 'http://is.zaakonline.nl'
externalDocs:
  -
    description: 'OAS Documentatie'
    url: 'http://is.zaakonline.nl'
x-commonground:
  type: service
  developers:
    -
      name: Conduction
      url: 'https://github.com/ConductionNL'
      email: info@conduction.nl
    -
      name: 'Gemeente Utrecht'
      url: 'https://github.com/GemeenteUtrecht'
      email: info@utrecht.nl
  builds:
    -
      name: travis
      logo: 'https://travis-ci.org/api-platform/core.svg?branch=master'
      url: 'https://travis-ci.org/api-platform/core'
    -
      name: appveyor
      logo: 'https://ci.appveyor.com/api/projects/status/grwuyprts3wdqx5l?svg=true'
      url: 'https://ci.appveyor.com/project/dunglas/dunglasapibundle'
    -
      name: codecov
      logo: 'https://codecov.io/gh/api-platform/core/branch/master/graph/badge.svg'
      url: 'https://codecov.io/gh/api-platform/core'
    -
      name: SensioLabsInsight
      logo: 'https://insight.sensiolabs.com/projects/92d78899-946c-4282-89a3-ac92344f9a93/mini.png'
      url: 'https://insight.sensiolabs.com/projects/92d78899-946c-4282-89a3-ac92344f9a93'
    -
      name: 'Scrutinizer Code Quality'
      logo: 'https://scrutinizer-ci.com/g/api-platform/core/badges/quality-score.png?b=master'
      url: 'https://scrutinizer-ci.com/g/api-platform/core/?branch=master'
